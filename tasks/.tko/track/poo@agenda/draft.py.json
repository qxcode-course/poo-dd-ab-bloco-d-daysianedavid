{
    "patches": [
        {
            "label": "2025-11-24_16-50-26",
            "content": "@@ -1,4687 +1,3000 @@\n-class Fone:%0A    def __init__(self, fid: str, number: str):%0A        self.id = fid%0A        self.number = number%0A%0A    def is_valid(self) -%3E bool:%0A        # Se quiser validar, pode usar isso. Os testes n%C3%A3o exploram erro de fone.%0A        validos = %220123456789().-%22%0A        for c in self.number:%0A            if c not in validos:%0A                return False%0A        return True%0A%0A    def __str__(self) -%3E str:%0A        # ex: oi:1234%0A        return f%22%7Bself.id%7D:%7Bself.number%7D%22%0A%0A%0Aclass Contact:%0A    def __init__(self, name: str):%0A        self.name: str = name%0A        self.favorited: bool = False%0A        self.fones: List%5BFone%5D = %5B%5D%0A%0A    # adiciona um telefone se for v%C3%A1lido%0A    def addFone(self, fid: str, number: str) -%3E None:%0A        fone = Fone(fid, number)%0A        # Se quiser ativar valida%C3%A7%C3%A3o real:%0A        # if not fone.is_valid():%0A        #     print(%22fail: fone invalido%22)%0A        #     return%0A        self.fones.append(fone)%0A%0A    # remove fone pelo %C3%ADndice%0A    def rmFone(self, index: int) -%3E None:%0A        if 0 %3C= index %3C len(self.fones):%0A            del self.fones%5Bindex%5D%0A        # se %C3%ADndice inv%C3%A1lido, n%C3%A3o faz nada (pra n%C3%A3o quebrar os testes)%0A%0A    def toggleFavorited(self) -%3E None:%0A        self.favorited = not self.favorited%0A%0A    def isFavorited(self) -%3E bool:%0A        return self.favorited%0A%0A    def getName(self) -%3E str:%0A        return self.name%0A%0A    def __str__(self) -%3E str:%0A        marker = %22@%22 if self.favorited else %22-%22%0A        fones_str = %22, %22.join(str(f) for f in self.fones)%0A        return f%22%7Bmarker%7D %7Bself.name%7D %5B%7Bfones_str%7D%5D%22%0A%0A%0Aclass Agenda:%0A    def __init__(self):%0A        # vamos guardar contatos num dicion%C3%A1rio: nome -%3E Contact%0A        self.contacts: Dict%5Bstr, Contact%5D = %7B%7D%0A%0A    def _get_sorted_contacts(self) -%3E List%5BContact%5D:%0A        # retorna contatos ordenados por nome (pra bater com os testes)%0A        lista = list(self.contacts.values())%0A        lista.sort(key=lambda c: c.getName())%0A        return lista%0A%0A    def addContact(self, name: str, fones: List%5BFone%5D) -%3E None:%0A        # se j%C3%A1 existe, s%C3%B3 adiciona os fones novos%0A        if name in self.contacts:%0A            contato = self.contacts%5Bname%5D%0A        else:%0A            contato = Contact(name)%0A            self.contacts%5Bname%5D = contato%0A%0A        for f in fones:%0A            contato.addFone(f.id, f.number)%0A%0A    def getContact(self, name: str) -%3E Contact %7C None:%0A        return self.contacts.get(name)%0A%0A    def rmContact(self, name: str) -%3E None:%0A        if name in self.contacts:%0A            del self.contacts%5Bname%5D%0A        # se n%C3%A3o existir, n%C3%A3o faz nada%0A%0A    def search(self, pattern: str) -%3E List%5BContact%5D:%0A        result: List%5BContact%5D = %5B%5D%0A        for c in self._get_sorted_contacts():%0A            if pattern in str(c):%0A                result.append(c)%0A        return result%0A%0A    def getFavorited(self) -%3E List%5BContact%5D:%0A        favs: List%5BContact%5D = %5B%5D%0A        for c in self._get_sorted_contacts():%0A            if c.isFavorited():%0A                favs.append(c)%0A        return favs%0A%0A    def getContacts(self) -%3E List%5BContact%5D:%0A        return self._get_sorted_contacts()%0A%0A    def __str__(self) -%3E str:%0A        linhas = %5Bstr(c) for c in self._get_sorted_contacts()%5D%0A        return %22%5Cn%22.join(linhas)%0A%0A%0Adef main():%0A    agenda = Agenda()%0A%0A    while True:%0A        line = input()%0A        if line == %22%22:%0A            continue%0A%0A        print(%22$%22 + line)%0A        parts = line.split()%0A        cmd = parts%5B0%5D%0A%0A        if cmd == %22end%22:%0A            break%0A%0A        elif cmd == %22show%22:%0A            print(agenda)%0A%0A        elif cmd == %22add%22:%0A            # add nome id1:num1 id2:num2 ...%0A            name = parts%5B1%5D%0A            fones: List%5BFone%5D = %5B%5D%0A            for token in parts%5B2:%5D:%0A                fid, num = token.split(%22:%22)%0A                fones.append(Fone(fid, num))%0A            agenda.addContact(name, fones)%0A%0A        elif cmd == %22rmFone%22:%0A            # rmFone nome indice%0A            name = parts%5B1%5D%0A            idx = int(parts%5B2%5D)%0A            contato = agenda.getContact(name)%0A            if contato is not None:%0A                contato.rmFone(idx)%0A%0A        elif cmd == %22rm%22:%0A            # rm nome%0A            name = parts%5B1%5D%0A            agenda.rmContact(name)%0A%0A        elif cmd == %22search%22:%0A            pattern = parts%5B1%5D%0A            res = agenda.search(pattern)%0A            for c in res:%0A                print(c)%0A%0A        elif cmd == %22tfav%22:%0A            # tfav nome%0A            name = parts%5B1%5D%0A            contato = agenda.getContact(name)%0A            if contato is not None:%0A                contato.toggleFavorited()%0A%0A        elif cmd == %22favs%22:%0A            for c in agenda.getFavorited():%0A                print(c)%0A%0A        else:%0A            print(%22fail: comando invalido%22)%0A%0A%0Aif __name__ == %22__main__%22:%0A    \n+lass Pet:%0A    def __init__(self, nome: str, raca: str):%0A        self.nome = nome%0A        self.raca = raca%0A%0A    def __str__(self):%0A        return f%22%7Bself.nome%7D:%7Bself.raca%7D%22%0A%0A# repositorio de pets%0Aclass Pessoa:%0A    def __init__(self, id: str, idade: int):%0A        self.id = id%0A        self.idade = idade%0A        self.pets: dict%5Bstr, Pet%5D = %7B%7D%0A%0A    def add_pet(self, pet: Pet):%0A        if pet.nome in self.pets:%0A            raise Exception(f%22Pet %7Bpet.nome%7D ja existe%22)%0A        self.pets%5Bpet.nome%5D = pet%0A%0A    def get_pet(self, nome: str):%0A        try:%0A            return self.pets%5Bnome%5D%0A        except KeyError as _:%0A            raise Exception(f%22Pet %7Bnome%7D nao existe%22)%0A    %0A    def del_pet(self, nome: str):%0A        try:%0A            del self.pets%5Bnome%5D%0A        except KeyError as _:%0A            raise Exception(f%22Pet %7Bnome%7D nao existe%22)%0A    %0A    def __str__(self):%0A        pets = %22, %22.join(%5Bstr(x) for x in self.pets.values()%5D)%0A        return f%22%7Bself.id%7D:%7Bself.idade%7D, pets:%5B%7Bpets%7D%5D%22%0A%0A# crud%0A# repositorio de pessoa%0Aclass Clinica:%0A    def __init__(self):%0A        self.pessoas: dict%5Bstr, Pessoa%5D = %7B%7D%0A%0A    # create%0A    def add_pessoa(self, pessoa: Pessoa):%0A        if pessoa.id in self.pessoas:%0A            raise Exception(f%22fail: Pessoa %7Bpessoa.id%7D ja existe%22)%0A        self.pessoas%5Bpessoa.id%5D = pessoa%0A    %0A    # read%0A    def get_pessoa(self, id: str) -%3E Pessoa:%0A        try:%0A            return self.pessoas%5Bid%5D%0A        except KeyError as _:%0A            raise Exception(f%22fail: Id %7Bid%7D nao existe%22)%0A    # delete%0A    def del_pessoa(self, id: str):%0A        if id not in self.pessoas: # custo de consulta%0A            raise Exception(f%22fail: Id %7Bid%7D nao existe%22)%0A        del self.pessoas%5Bid%5D%0A%0A    def list(self) -%3E list%5BPessoa%5D:%0A        lista = list(self.pessoas.values())%0A        lista.sort(key=lambda pessoa: pessoa.id)%0A        return lista%0A%0A%22%22%22%0Aadd leo 18%0Aadd ana 12%0Aadd cid 13%0Aadd bia 15%0A%22%22%22%0A%0Adef main():%0A    rep = Clinica()%0A    while True:%0A        print(%22$%22, end=%22%22)%0A        line = input()%0A        args = line.split(%22 %22)%0A        try:%0A            if args%5B0%5D == %22end%22:%0A                break%0A            elif args%5B0%5D == %22add%22: # id idade%0A                rep.add_pessoa(Pessoa(args%5B1%5D, int(args%5B2%5D)))%0A            elif args%5B0%5D == %22get%22: # id%0A                print(rep.get_pessoa(args%5B1%5D))%0A            elif args%5B0%5D == %22old%22: # id%0A                pessoa = rep.get_pessoa(args%5B1%5D)%0A                pessoa.idade += 1%0A            elif args%5B0%5D == %22del%22: # id%0A                rep.del_pessoa(args%5B1%5D)%0A            elif args%5B0%5D == %22addpet%22: # id nome raca%0A                pessoa = rep.get_pessoa(args%5B1%5D)%0A                pessoa.add_pet(Pet(args%5B2%5D, args%5B3%5D))%0A            elif args%5B0%5D == %22delpet%22: # id nome%0A                rep.get_pessoa(args%5B1%5D).del_pet(args%5B2%5D)%0A            elif args%5B0%5D == %22list%22:%0A                textos = %5Bstr(x) for x in rep.list()%5D%0A                print(%22%5Cn%22.join(textos))%0A            else:%0A                print(%22fail: comando invalido%22)%0A        except Exception as e:%0A            print(e)%0A\n main\n",
            "lines": "103"
        },
        {
            "label": "2025-12-01_13-25-11",
            "content": "@@ -1,36 +1,4 @@\n-from typing import List, Dict%0A%0A%0A\n clas\n",
            "lines": "169"
        },
        {
            "label": "2025-12-01_13-25-48",
            "content": "@@ -1,12 +1,44 @@\n+from typing import List, Dict%0A%0A%0A\n class Fone:%0A\n@@ -59,32 +59,37 @@\n __(self, fid\n+: str\n , number\n ):%0A        s\n@@ -68,32 +68,37 @@\n fid: str, number\n+: str\n ):%0A        self.\n@@ -154,24 +154,32 @@\n _valid(self)\n+ -%3E bool\n :%0A        # \n@@ -182,28 +182,44 @@\n   # \n-Valida%C3%A7%C3%A3o simples (o\n+Se quiser validar, pode usar isso. O\n s te\n@@ -228,13 +228,17 @@\n es n\n-em us\n+%C3%A3o explor\n am e\n@@ -252,25 +252,9 @@\n fone\n-, mas deixo aqui)\n+.\n %0A   \n@@ -411,32 +411,39 @@\n ef __str__(self)\n+ -%3E str\n :%0A        # ex: \n@@ -528,32 +528,37 @@\n nit__(self, name\n+: str\n ):%0A        self.\n@@ -561,16 +561,21 @@\n elf.name\n+: str\n  = name%0A\n@@ -596,16 +596,22 @@\n avorited\n+: bool\n  = False\n@@ -633,31 +633,67 @@\n ones\n- = %5B%5D  # lista de Fone%0A\n+: List%5BFone%5D = %5B%5D%0A%0A    # adiciona um telefone se for v%C3%A1lido\n %0A   \n@@ -714,24 +714,29 @@\n elf, fid\n+: str\n , number\n ):%0A     \n@@ -727,17 +727,30 @@\n , number\n-)\n+: str) -%3E None\n :%0A      \n@@ -752,16 +752,19 @@\n        f\n+one\n  = Fone(\n@@ -837,16 +837,19 @@\n if not f\n+one\n .is_vali\n@@ -944,19 +944,52 @@\n append(f\n+one\n )%0A%0A\n+    # remove fone pelo %C3%ADndice%0A\n     def \n@@ -1006,17 +1006,30 @@\n f, index\n-)\n+: int) -%3E None\n :%0A      \n@@ -1190,32 +1190,40 @@\n eFavorited(self)\n+ -%3E None\n :%0A        self.f\n@@ -1270,32 +1270,40 @@\n sFavorited(self)\n+ -%3E bool\n :%0A        return\n@@ -1336,24 +1336,31 @@\n etName(self)\n+ -%3E str\n :%0A        re\n@@ -1388,32 +1388,39 @@\n ef __str__(self)\n+ -%3E str\n :%0A        marker\n@@ -1613,16 +1613,55 @@\n        #\n+ vamos guardar contatos num dicion%C3%A1rio:\n  nome -%3E\n@@ -1690,16 +1690,36 @@\n contacts\n+: Dict%5Bstr, Contact%5D\n  = %7B%7D%0A%0A \n@@ -1743,33 +1743,122 @@\n d_contacts(self)\n-:\n+ -%3E List%5BContact%5D:%0A        # retorna contatos ordenados por nome (pra bater com os testes)\n %0A        lista =\n@@ -1988,53 +1988,93 @@\n name\n+: str\n , fones\n-):%0A        # fones %C3%A9 uma lista de Fone\n+: List%5BFone%5D) -%3E None:%0A        # se j%C3%A1 existe, s%C3%B3 adiciona os fones novos\n %0A   \n@@ -2329,33 +2329,56 @@\n ntact(self, name\n-)\n+: str) -%3E Contact %7C None\n :%0A        return\n@@ -2431,17 +2431,30 @@\n lf, name\n-)\n+: str) -%3E None\n :%0A      \n@@ -2516,16 +2516,55 @@\n ts%5Bname%5D\n+%0A        # se n%C3%A3o existir, n%C3%A3o faz nada\n %0A%0A    de\n@@ -2585,17 +2585,39 @@\n  pattern\n-)\n+: str) -%3E List%5BContact%5D\n :%0A      \n@@ -2624,16 +2624,31 @@\n   result\n+: List%5BContact%5D\n  = %5B%5D%0A  \n@@ -2811,22 +2811,54 @@\n elf)\n-:%0A        favs\n+ -%3E List%5BContact%5D:%0A        favs: List%5BContact%5D\n  = %5B\n@@ -3010,24 +3010,41 @@\n ntacts(self)\n+ -%3E List%5BContact%5D\n :%0A        re\n@@ -3090,32 +3090,39 @@\n ef __str__(self)\n+ -%3E str\n :%0A        linhas\n@@ -3619,16 +3619,28 @@\n    fones\n+: List%5BFone%5D\n  = %5B%5D%0A  \n",
            "lines": "172"
        },
        {
            "label": "2025-12-01_13-42-40",
            "content": "class Fone:\n    def __init__(self, fid, number):\n        self.id = fid\n        self.number = number\n\n    def is_valid(self):\n        # Valida\u00e7\u00e3o simples (os testes nem usam erro de fone, mas deixo aqui)\n        validos = \"0123456789().-\"\n        for c in self.number:\n            if c not in validos:\n                return False\n        return True\n\n    def __str__(self):\n        # ex: oi:1234\n        return f\"{self.id}:{self.number}\"\n\n\nclass Contact:\n    def __init__(self, name):\n        self.name = name\n        self.favorited = False\n        self.fones = []  # lista de Fone\n\n    def addFone(self, fid, number):\n        f = Fone(fid, number)\n        # Se quiser ativar valida\u00e7\u00e3o real:\n        # if not f.is_valid():\n        #     print(\"fail: fone invalido\")\n        #     return\n        self.fones.append(f)\n\n    def rmFone(self, index):\n        if 0 <= index < len(self.fones):\n            del self.fones[index]\n        # se \u00edndice inv\u00e1lido, n\u00e3o faz nada (pra n\u00e3o quebrar os testes)\n\n    def toggleFavorited(self):\n        self.favorited = not self.favorited\n\n    def isFavorited(self):\n        return self.favorited\n\n    def getName(self):\n        return self.name\n\n    def __str__(self):\n        marker = \"@\" if self.favorited else \"-\"\n        fones_str = \", \".join(str(f) for f in self.fones)\n        return f\"{marker} {self.name} [{fones_str}]\"\n\n\nclass Agenda:\n    def __init__(self):\n        # nome -> Contact\n        self.contacts = {}\n\n    def _get_sorted_contacts(self):\n        lista = list(self.contacts.values())\n        lista.sort(key=lambda c: c.getName())\n        return lista\n\n    def addContact(self, name, fones):\n        # fones \u00e9 uma lista de Fone\n        if name in self.contacts:\n            contato = self.contacts[name]\n        else:\n            contato = Contact(name)\n            self.contacts[name] = contato\n\n        for f in fones:\n            contato.addFone(f.id, f.number)\n\n    def getContact(self, name):\n        return self.contacts.get(name)\n\n    def rmContact(self, name):\n        if name in self.contacts:\n            del self.contacts[name]\n\n    def search(self, pattern):\n        result = []\n        for c in self._get_sorted_contacts():\n            if pattern in str(c):\n                result.append(c)\n        return result\n\n    def getFavorited(self):\n        favs = []\n        for c in self._get_sorted_contacts():\n            if c.isFavorited():\n                favs.append(c)\n        return favs\n\n    def getContacts(self):\n        return self._get_sorted_contacts()\n\n    def __str__(self):\n        linhas = [str(c) for c in self._get_sorted_contacts()]\n        return \"\\n\".join(linhas)\n\n\ndef main():\n    agenda = Agenda()\n\n    while True:\n        line = input()\n        if line == \"\":\n            continue\n\n        print(\"$\" + line)\n        parts = line.split()\n        cmd = parts[0]\n\n        if cmd == \"end\":\n            break\n\n        elif cmd == \"show\":\n            print(agenda)\n\n        elif cmd == \"add\":\n            # add nome id1:num1 id2:num2 ...\n            name = parts[1]\n            fones = []\n            for token in parts[2:]:\n                fid, num = token.split(\":\")\n                fones.append(Fone(fid, num))\n            agenda.addContact(name, fones)\n\n        elif cmd == \"rmFone\":\n            # rmFone nome indice\n            name = parts[1]\n            idx = int(parts[2])\n            contato = agenda.getContact(name)\n            if contato is not None:\n                contato.rmFone(idx)\n\n        elif cmd == \"rm\":\n            # rm nome\n            name = parts[1]\n            agenda.rmContact(name)\n\n        elif cmd == \"search\":\n            pattern = parts[1]\n            res = agenda.search(pattern)\n            for c in res:\n                print(c)\n\n        elif cmd == \"tfav\":\n            # tfav nome\n            name = parts[1]\n            contato = agenda.getContact(name)\n            if contato is not None:\n                contato.toggleFavorited()\n\n        elif cmd == \"favs\":\n            for c in agenda.getFavorited():\n                print(c)\n\n        else:\n            print(\"fail: comando invalido\")\n\n\nif __name__ == \"__main__\":\n    main()",
            "lines": "165"
        }
    ]
}